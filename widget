async function getOauthToken() {
  try {
    const response = await fetch("https://url/web/sharing/oauth2/token", {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: new URLSearchParams({
        f: "json",
        referer: window.location.origin,
        client_id: "clientid",
        client_secret: "clientsecret",
        grant_type: "client_credentials"
      }),
      credentials: "include" // send cookies for logged-in session
    });
 
    if (!response.ok) {
      throw new Error(`Response status: ${response.status}`);
    }
    const result = await response.json();
    console.log(result.access_token);
    return result.access_token;
   
 
  } catch (error) {
    console.error("Error fetching token:", error);
  }
 
};
