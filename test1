# Drop a Pin Widget - Directory Structure

## ğŸ“ Complete Directory Tree

```
client/
â””â”€â”€ your-extensions/
    â””â”€â”€ widgets/
        â””â”€â”€ drop-pin/                    â† Widget root folder
            â”œâ”€â”€ ğŸ“„ manifest.json         â† Widget manifest (from "Widget Configuration Files" artifact)
            â”œâ”€â”€ ğŸ“„ config.ts             â† Config interface (from "Widget Configuration Files" artifact) 
            â”œâ”€â”€ ğŸ“„ widget.tsx            â† Main widget code (from "Drop a Pin Widget - Main Widget Component" artifact)
            â”œâ”€â”€ ğŸ“„ style.css             â† Widget styles (from "Widget Styles and Additional Files" artifact)
            â”œâ”€â”€ ğŸ“ nls/                  â† Localization folder
            â”‚   â””â”€â”€ ğŸ“„ default.ts        â† Default language strings (from "Widget Configuration Files" artifact)
            â””â”€â”€ ğŸ“ setting/              â† Settings panel folder
                â””â”€â”€ ğŸ“„ setting.tsx       â† Settings component (from "Widget Configuration Files" artifact)
```

## ğŸ—‚ï¸ File Mapping Guide

### **Root Level Files** (`client/your-extensions/widgets/drop-pin/`)

|File           |Source Artifact                              |Content Type        |
|---------------|---------------------------------------------|--------------------|
|`manifest.json`|**Widget Configuration Files**               |JSON manifest       |
|`config.ts`    |**Widget Configuration Files**               |TypeScript interface|
|`widget.tsx`   |**Drop a Pin Widget - Main Widget Component**|Main React component|
|`style.css`    |**Widget Styles and Additional Files**       |CSS styles          |

### **nls/ Folder** (`client/your-extensions/widgets/drop-pin/nls/`)

|File        |Source Artifact               |Content Type        |
|------------|------------------------------|--------------------|
|`default.ts`|**Widget Configuration Files**|Localization strings|

### **setting/ Folder** (`client/your-extensions/widgets/drop-pin/setting/`)

|File         |Source Artifact               |Content Type            |
|-------------|------------------------------|------------------------|
|`setting.tsx`|**Widget Configuration Files**|Settings React component|

## ğŸš€ Step-by-Step Implementation

### **Step 1: Create Directory Structure**

```bash
# Navigate to your Experience Builder directory
cd /path/to/arcgis-experience-builder-developer-edition/client/your-extensions/widgets/

# Create the widget directory structure
mkdir -p drop-pin/nls drop-pin/setting
```

### **Step 2: Extract and Place Files**

#### **From â€œWidget Configuration Filesâ€ artifact:**

```bash
# Extract these sections to separate files:

# 1. Lines 1-4 (Config interface) â†’ config.ts
# 2. Lines 6-76 (Setting component) â†’ setting/setting.tsx  
# 3. Lines 78-108 (manifest.json) â†’ manifest.json
# 4. Lines 110-125 (nls/default.ts) â†’ nls/default.ts
```

#### **From â€œDrop a Pin Widget - Main Widget Componentâ€ artifact:**

```bash
# The entire file content â†’ widget.tsx
```

#### **From â€œWidget Styles and Additional Filesâ€ artifact:**

```bash
# The entire CSS content â†’ style.css
```

### **Step 3: File Content Breakdown**

#### **ğŸ“„ manifest.json**

```json
{
  "name": "drop-pin",
  "type": "widget",
  "version": "1.0.0",
  "exbVersion": "1.14.0",
  "author": "Custom Widget Developer",
  "description": "A widget to drop pins on the map with customizable names and colors",
  "copyright": "",
  "license": "",
  "main": "dist/runtime/widget.js",
  "setting": "dist/setting/setting.js",
  "icon": "ğŸ“",
  "properties": {
    "supportInlineEditing": false,
    "supportRepeat": false,
    "canCrossFilterDS": false
  },
  "defaultConfig": {
    "useMapWidget": ""
  },
  "translatedLocales": ["en"],
  "dependencies": ["jimu-arcgis"],
  "hasStyle": true,
  "hasConfig": true,
  "hasSettingPage": true,
  "category": "Map Tools",
  "layouts": [
    {
      "name": "default",
      "type": "row",
      "content": []
    }
  ]
}
```

#### **ğŸ“„ config.ts**

```typescript
export interface Config {
  useMapWidget: string
}
```

#### **ğŸ“„ nls/default.ts**

```typescript
export default {
  widgetName: 'Drop a Pin',
  widgetDescription: 'Drop pins on the map with custom names and colors',
  selectMapWidget: 'Please select a map widget',
  dropPinMode: 'Click to enter drop pin mode',
  cancelDropMode: 'Click to cancel drop pin mode',
  pinName: 'Pin Name',
  pinColor: 'Pin Color',
  coordinates: 'Coordinates',
  saveChanges: 'Save Changes',
  removePin: 'Remove Pin',
  copyCoordinates: 'Click to copy coordinates',
  instructions: {
    title: 'Instructions',
    step1: 'Click the pin button to enter drop mode',
    step2: 'Click anywhere on the map to drop a pin',
    step3: 'Edit pin properties in the popup',
    step4: 'Click existing pins to modify them'
  }
}
```

## âš¡ Quick Setup Commands

### **PowerShell (Windows)**

```powershell
# Navigate to widgets folder
cd "C:\path\to\arcgis-experience-builder\client\your-extensions\widgets"

# Create structure
New-Item -ItemType Directory -Path "drop-pin\nls", "drop-pin\setting" -Force

# Create files (you'll need to paste content manually)
New-Item -ItemType File -Path "drop-pin\manifest.json", "drop-pin\config.ts", "drop-pin\widget.tsx", "drop-pin\style.css", "drop-pin\nls\default.ts", "drop-pin\setting\setting.tsx"
```

### **Bash (Mac/Linux)**

```bash
# Navigate to widgets folder
cd /path/to/arcgis-experience-builder/client/your-extensions/widgets

# Create structure
mkdir -p drop-pin/{nls,setting}

# Create files (you'll need to paste content manually)
touch drop-pin/{manifest.json,config.ts,widget.tsx,style.css,nls/default.ts,setting/setting.tsx}
```

## ğŸ” Visual Directory Verification

After setup, your structure should look exactly like this:

```
ğŸ“ drop-pin/
â”œâ”€â”€ ğŸ“„ manifest.json          âœ… JSON configuration
â”œâ”€â”€ ğŸ“„ config.ts              âœ… TypeScript config
â”œâ”€â”€ ğŸ“„ widget.tsx             âœ… Main React component (largest file)
â”œâ”€â”€ ğŸ“„ style.css              âœ… CSS styles
â”œâ”€â”€ ğŸ“ nls/
â”‚   â””â”€â”€ ğŸ“„ default.ts         âœ… Localization
â””â”€â”€ ğŸ“ setting/
    â””â”€â”€ ğŸ“„ setting.tsx        âœ… Settings panel
```

## âš ï¸ Important Notes

1. **File Names**: Must match exactly (case-sensitive)
1. **Folder Names**: `nls` and `setting` are required folder names
1. **Widget Name**: The folder `drop-pin` becomes your widget ID
1. **File Extensions**: Must be `.tsx` for React components, `.ts` for TypeScript
1. **Manifest**: Critical for widget registration in Experience Builder

## ğŸ§ª Testing Your Setup

1. **Start Development Server**: Run Experience Builder dev server
1. **Check Widget Panel**: Look for â€œDrop a Pinâ€ in Map Tools category
1. **Add to Experience**: Drag widget to your experience
1. **Configure**: Set map widget in settings
1. **Test Functionality**: Click pin button and drop pins on map

Your widget should now be ready to use! ğŸ‰