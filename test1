// config.ts - Widget Configuration Interface
export interface Config {
useMapWidget: string
}

// settings/setting.tsx - Widget Settings Panel
/** @jsx jsx */
import {
React,
jsx,
Immutable,
UseDataSource
} from â€˜jimu-coreâ€™
import { AllWidgetSettingProps } from â€˜jimu-for-builderâ€™
import {
MapWidgetSelector,
SettingSection,
SettingRow
} from â€˜jimu-ui/advanced/setting-componentsâ€™
import { Config } from â€˜../configâ€™

export default class Setting extends React.PureComponent<
AllWidgetSettingProps<Config>

> {
> onMapWidgetSelected = (useMapWidgetIds: string[]) => {
> this.props.onSettingChange({
> id: this.props.id,
> config: this.props.config.set(â€˜useMapWidgetâ€™, useMapWidgetIds[0])
> })
> }

render() {
return (
<div className=â€œwidget-setting-drop-pinâ€ style={{ padding: â€˜20pxâ€™ }}>
<SettingSection
className="map-selector-section"
title="Map Selection"
>
<SettingRow>
<MapWidgetSelector
onSelect={this.onMapWidgetSelected}
useMapWidgetIds={
this.props.config.useMapWidget
? [this.props.config.useMapWidget]
: []
}
/>
</SettingRow>
</SettingSection>

```
    <SettingSection
      className="instructions-section"
      title="Instructions"
    >
      <div style={{ 
        padding: '12px', 
        background: '#f8f9fa', 
        borderRadius: '4px',
        fontSize: '14px',
        color: '#495057'
      }}>
        <h4 style={{ margin: '0 0 8px 0', fontSize: '14px' }}>How to use the Drop a Pin widget:</h4>
        <ol style={{ margin: 0, paddingLeft: '20px' }}>
          <li>Select a map widget above</li>
          <li>Click the pin button to enter drop mode</li>
          <li>Click anywhere on the map to drop a pin</li>
          <li>Edit pin name and color in the popup</li>
          <li>Click existing pins to modify or remove them</li>
          <li>Click coordinates to copy to clipboard</li>
        </ol>
      </div>
    </SettingSection>
  </div>
)
```

}
}

// manifest.json - Widget Manifest
{
â€œnameâ€: â€œdrop-pinâ€,
â€œtypeâ€: â€œwidgetâ€,
â€œversionâ€: â€œ1.0.0â€,
â€œexbVersionâ€: â€œ1.14.0â€,
â€œauthorâ€: â€œCustom Widget Developerâ€,
â€œdescriptionâ€: â€œA widget to drop pins on the map with customizable names and colorsâ€,
â€œcopyrightâ€: â€œâ€,
â€œlicenseâ€: â€œâ€,
â€œmainâ€: â€œdist/runtime/widget.jsâ€,
â€œsettingâ€: â€œdist/setting/setting.jsâ€,
â€œiconâ€: â€œğŸ“â€,
â€œpropertiesâ€: {
â€œsupportInlineEditingâ€: false,
â€œsupportRepeatâ€: false,
â€œcanCrossFilterDSâ€: false
},
â€œdefaultConfigâ€: {
â€œuseMapWidgetâ€: â€œâ€
},
â€œtranslatedLocalesâ€: [â€œenâ€],
â€œdependenciesâ€: [â€œjimu-arcgisâ€],
â€œhasStyleâ€: true,
â€œhasConfigâ€: true,
â€œhasSettingPageâ€: true,
â€œcategoryâ€: â€œMap Toolsâ€,
â€œlayoutsâ€: [
{
â€œnameâ€: â€œdefaultâ€,
â€œtypeâ€: â€œrowâ€,
â€œcontentâ€: []
}
]
}

// nls/default.ts - Localization
export default {
widgetName: â€˜Drop a Pinâ€™,
widgetDescription: â€˜Drop pins on the map with custom names and colorsâ€™,
selectMapWidget: â€˜Please select a map widgetâ€™,
dropPinMode: â€˜Click to enter drop pin modeâ€™,
cancelDropMode: â€˜Click to cancel drop pin modeâ€™,
pinName: â€˜Pin Nameâ€™,
pinColor: â€˜Pin Colorâ€™,
coordinates: â€˜Coordinatesâ€™,
saveChanges: â€˜Save Changesâ€™,
removePin: â€˜Remove Pinâ€™,
copyCoordinates: â€˜Click to copy coordinatesâ€™,
instructions: {
title: â€˜Instructionsâ€™,
step1: â€˜Click the pin button to enter drop modeâ€™,
step2: â€˜Click anywhere on the map to drop a pinâ€™,
step3: â€˜Edit pin properties in the popupâ€™,
step4: â€˜Click existing pins to modify themâ€™
}
}